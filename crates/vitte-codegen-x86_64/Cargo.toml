[package]
name        = "vitte-codegen-x86_64"
description = "x86_64 backend for Vitte (System V / Windows ABI, SSE/AVX optional)."
version      = { workspace = true }
edition      = { workspace = true }
rust-version = { workspace = true }
license      = { workspace = true }
repository   = { workspace = true }
homepage     = { workspace = true }

readme        = "README.md"
documentation = "https://docs.rs/vitte-codegen-x86_64"

keywords   = ["compiler", "codegen", "backend", "x86_64", "vitte"]
categories = ["compilers", "development-tools"]

exclude = [".github/*", "examples/*", "tests/*"]

[lib]
name = "vitte_codegen_x86_64"
path = "src/lib.rs"

[features]
default  = ["std"]
std      = []
sse2     = []    # enable SSE2 instructions
avx      = []    # enable AVX instructions
avx512   = []    # enable AVX-512 instructions
windows  = []    # Windows ABI calling convention
sysv     = []    # SysV ABI calling convention
full     = ["std", "sse2", "avx", "avx512", "windows", "sysv"]

[dependencies]
vitte-core    = { path = "../vitte-core", version = "0.1.0" }
vitte-ir      = { path = "../vitte-ir", version = "0.1.0" }
vitte-runtime = { path = "../vitte-runtime", version = "0.1.0" }